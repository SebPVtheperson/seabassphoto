[build]
  publish = "."
  functions = "netlify/functions"

# Proxy /api/* to functions - avoids 405 on direct functions path with custom domains
[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/:splat"
  status = 200

# Use 308 so POST stays POST when redirecting HTTP->HTTPS (301 turns POST into GET â†’ 405)
[[redirects]]
  from = "http://seabass.photo/*"
  to = "https://seabass.photo/:splat"
  status = 308
  force = true
[[redirects]]
  from = "http://www.seabass.photo/*"
  to = "https://seabass.photo/:splat"
  status = 308
  force = true
